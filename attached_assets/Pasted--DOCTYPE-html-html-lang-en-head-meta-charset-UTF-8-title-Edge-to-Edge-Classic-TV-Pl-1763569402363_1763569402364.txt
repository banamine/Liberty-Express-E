<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Edge-to-Edge Classic TV Player – Weebly Ready</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://cdn.jsdelivr.net/npm/dashjs@latest/dist/dash.all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
<style>
  *, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }
  html, body { height:100%; overflow:hidden; background:#000; font-family:system-ui, sans-serif; }
  
  /* Full edge-to-edge centered video */
  #player-wrapper {
    position:fixed;
    inset:0;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#000;
  }
  #videoPlayer {
    position:absolute;
    top:50%; left:50%;
    transform:translate(-50%, -50%);
    min-width:100vw;
    min-height:100vh;
    width:auto;
    height:auto;
    object-fit:cover;
    transition:opacity .4s ease;
  }

  /* Dim overlay */
  #dim-overlay {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.65);
    opacity:0;
    pointer-events:none;
    transition:opacity .3s ease;
    z-index:10;
  }
  #dim-overlay.active { opacity:1; pointer-events:all; }

  /* Sidebars – slide OVER the video */
  .sidebar {
    position:fixed;
    top:0; bottom:0;
    width:340px;
    max-width:90vw;
    background:#111;
    color:#fff;
    z-index:20;
    padding:20px;
    overflow-y:auto;
    box-shadow:0 0 40px rgba(0,0,0,0.9);
    transition:transform .35s cubic-bezier(0.4,0,0.2,1);
  }
  #playlist-sidebar {
    left:0;
    transform:translateX(-100%);
  }
  #playlist-sidebar.open { transform:translateX(0); }

  #settings-sidebar {
    right:0;
    transform:translateX(100%);
  }
  #settings-sidebar.open { transform:translateX(0); }

  .sidebar h2 {
    margin-bottom:20px;
    text-align:center;
    color:#ffcc00;
    font-size:1.5em;
  }

  .playlist-item {
    display:flex;
    align-items:center;
    padding:12px;
    margin:8px 0;
    background:#222;
    border-radius:8px;
    cursor:pointer;
    transition:.25s;
  }
  .playlist-item:hover { background:#333; transform:translateX(4px); }
  .playlist-item.active { background:#ffcc00; color:#000; font-weight:bold; }
  .playlist-item img {
    width:80px; height:45px; object-fit:cover; border-radius:4px; margin-right:12px; background:#000;
  }
  .playlist-item span { flex:1; font-size:0.95em; }

  /* Toggle buttons */
  .toggle-btn {
    position:fixed;
    top:20px;
    width:48px; height:48px;
    background:rgba(0,0,0,0.7);
    border:none;
    border-radius:50%;
    color:#fff;
    font-size:24px;
    cursor:pointer;
    z-index:30;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:.3s;
    backdrop-filter:blur(4px);
  }
  .toggle-btn:hover { background:#ffcc00; color:#000; }
  #toggle-playlist { left:20px; }
  #toggle-settings { right:20px; }

  /* Gold info bar */
  #info-overlay {
    position:fixed;
    top:20px; left:50%;
    transform:translateX(-50%);
    background:rgba(0,0,0,0.85);
    color:#ffcc00;
    padding:12px 32px;
    border-radius:12px;
    font-size:1.4em;
    font-weight:bold;
    z-index:25;
    opacity:0;
    transition:opacity .4s;
    pointer-events:none;
    white-space:nowrap;
  }
  #info-overlay.show { opacity:1; }

  /* Bottom controls */
  #controls-bar {
    position:fixed;
    bottom:0; left:0; right:0;
    height:70px;
    background:linear-gradient(180deg, transparent, rgba(0,0,0,0.9));
    display:flex;
    align-items:center;
    justify-content:center;
    gap:30px;
    z-index:15;
    opacity:0;
    transition:opacity .3s;
  }
  body:hover #controls-bar { opacity:1; }

  .ctrl-btn {
    background:none;
    border:none;
    color:#ffcc00;
    font-size:30px;
    cursor:pointer;
    padding:10px;
    border-radius:8px;
    transition:.2s;
  }
  .ctrl-btn:hover { background:rgba(255,204,0,0.2); }
</style>
</head>
<body>

<div id="player-wrapper">
  <video id="videoPlayer" playsinline autoplay muted></video>
</div>

<div id="dim-overlay"></div>

<!-- Left Playlist -->
<div id="playlist-sidebar" class="sidebar">
  <h2>Playlist – Classic Westerns & Sherlock</h2>
  <div id="playlist-container"></div>
</div>

<!-- Right Settings -->
<div id="settings-sidebar" class="sidebar">
  <h2>Settings</h2>
  <p><strong>Volume</strong></p>
  <input type="range" id="volume" min="0" max="1" step="0.01" value="0.8" style="width:100%;">
  <p style="margin-top:20px;"><small>Quality auto-selected • Favorites saved locally</small></p>
</div>

<button id="toggle-playlist" class="toggle-btn" title="Playlist">Menu</button>
<button id="toggle-settings" class="toggle-btn" title="Settings">Settings</button>

<div id="info-overlay">Loading…</div>

<div id="controls-bar">
  <button class="ctrl-btn" id="prevBtn" title="Previous">Previous</button>
  <button class="ctrl-btn" id="playPauseBtn" title="Play/Pause">Play</button>
  <button class="ctrl-btn" id="nextBtn" title="Next">Next</button>
  <button class="ctrl-btn" id="muteBtn" title="Mute">Volume Up</button>
  <button class="ctrl-btn" id="fsBtn" title="Fullscreen">Fullscreen</button>
</div>

<script>
// FULL 33-CHANNEL CLASSIC PLAYLIST (all entries from your list)
const playlist = [
  {name:"Mackenzie's Raiders S01E01 – Eastern Barracks", logo:"MR", url:"https://archive.org/download/gideons-way-tv-1965-s01e17-the-wall/Gideon%27s%20Way%20TV%201965%20colorized%20s01e17%20The%20Wall.mp4", type:"mp4"},
  {name:"Roy Rogers S01E02 – Doc Stevens Traveling Store", logo:"RR", url:"https://archive.org/download/roy-rogers-show-tv-1952-s01e02-doc-stevens-traveling-store/Roy%20Rogers%20Show%20TV%201952%20colorized%20s01e02%20Doc%20Stevens%20Traveling%20Store.mp4", type:"mp4"},
  {name:"Annie Oakley S01E05 – Ambush Canyon", logo:"AO", url:"https://archive.org/download/mackenzies-raiders-tv-1958-colorized-s01e13-the-impostor/Mackenzies%20Raiders%20TV%201958%20colorized%20s01e13%20The%20Impostor.mp4", type:"mp4"},
  {name:"Mackenzie's Raiders S01E06 – Attack", logo:"MR", url:"https://archive.org/download/mackenzies-raiders-tv-1958-colorized-s01e06-attack/Mackenzies%20Raiders%20TV%201958%20colorized%20s01e06%20Attack.mp4", type:"mp4"},
  {name:"Fireball XL5 S01E01 – Planet 46", logo:"XL5", url:"https://archive.org/download/fireball-xl5-tv-1962-colorized-s01e01-planet-46/Fireball%20XL5%20TV%201962%20colorized%20s01e01%20Planet%2046.mp4", type:"mp4"},
  {name:"Roy Rogers S03E04 – Bullets and a Burro", logo:"RR", url:"https://archive.org/download/roy-rogers-show-tv-1953-s03e04-bullets-and-a-burro/Roy%20Rogers%20Show%20TV%201953%20colorized%20s03e04%20Bullets%20and%20a%20Burro.mp4", type:"mp4"},
  {name:"Stories of the Century – Doc Holliday", logo:"SC", url:"https://archive.org/download/woman-in-the-moon-1929-colorized/Woman%20in%20the%20Moon%201929%20launch%20sequence.mp4", type:"mp4"},
  {name:"The Lone Ranger S04E49 – The Bait Gold", logo:"LR", url:"https://archive.org/download/the-lone-ranger-tv-1955-s04e49-the-bait-gold/The%20Lone%20Ranger%20TV%201955%20colorized%20s04e49%20The%20Bait-Gold.mp4", type:"mp4"},
  {name:"Roy Rogers S01E01 – Jailbreak", logo:"RR", url:"https://archive.org/download/roy-rogers-show-tv-1951-s01e01-jailbreak/Roy%20Rogers%20Show%20TV%201951%20colorized%20s01e01%20Jailbreak.mp4", type:"mp4"},
  {name:"Stories of the Century – Billy the Kid", logo:"SC", url:"https://archive.org/download/stories-of-the-century-tv-1954-s01e02-billy-the-kid/Stories%20of%20the%20Century%20TV%201954%20colorized%20s01e02%20Billy%20the%20Kid.mp4", type:"mp4"},
  {name:"The Rebel S01E01 – Johnny Yuma", logo:"RB", url:"https://archive.org/download/the-rebel-tv-1959-s01e01-johnny-yuma/The%20Rebel%20TV%201959%20colorized%20s01e01%20Johnny%20Yuma.mp4", type:"mp4"},
  {name:"Gideon's Way S01E07 – To Catch a Tiger", logo:"GW", url:"https://archive.org/download/gideons-way-tv-1964-s01e07-to-catch-a-tiger/Gideon%27s%20Way%20TV%201964%20colorized%20s01e07%20To%20Catch%20a%20Tiger.mp4", type:"mp4"},
  {name:"Annie Oakley S01E02 – Annie Trusts a Convict", logo:"AO", url:"https://archive.org/download/annie-oakley-tv-1954-colorized-s01e02-annie-trusts-a-convict/Annie%20Oakley%20TV%201954%20colorized%20s01e02%20Annie%20Trusts%20a%20Convict.mp4", type:"mp4"},
  {name:"The Rifleman S01E01 – The Sharpshooter", logo:"RF", url:"https://archive.org/download/the-rifleman-tv-1958-colorized-s01e01-the-sharpshooter/The%20Rifleman%20TV%201958%20colorized%20s01e01%20The%20Sharpshooter.mp4", type:"mp4"},
  {name:"Bat Masterson S01E01 – Double Showdown", logo:"BM", url:"https://archive.org/download/bat-masterson-tv-1958-s01e01-double-showdown/Bat%20Masterson%20TV%201958%20colorized%20s01e01%20Double%20Showdown.mp4", type:"mp4"},
  {name:"The Outer Limits S02E09 – I, Robot", logo:"OL", url:"https://archive.org/download/the-outer-limits-s02e09-i-robot/The%20Outer%20Limits%20TV%201964%20colorized%20s02e09%20I%2C%20Robot.mp4", type:"mp4"},
  {name:"Annie Oakley S01E03 – Gunplay", logo:"AO", url:"https://archive.org/download/annie-oakley-tv-1954-colorized-s01-e03-gunplay/Annie%20Oakley%20TV%201954%20colorized%20S01E03%20Gunplay.mp4", type:"mp4"},
  {name:"Stories of the Century – Johnny Ringo", logo:"SC", url:"https://archive.org/download/stories-of-the-century-tv-1954-colorized-s01e08-johnny-ringo/Stories%20of%20the%20Century%20TV%201954%20colorized%20s01e08%20Johnny%20Ringo.mp4", type:"mp4"},
  {name:"The Woman in Green (1945) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/The%20Woman%20in%20Green%201945%20colorized.mp4", type:"mp4"},
  {name:"Dressed to Kill (1946) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Dressed%20to%20Kill%201946%20colorized.mp4", type:"mp4"},
  {name:"Sherlock Holmes and the Secret Weapon (1942)", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Sherlock%20Holmes%20and%20the%20Secret%20Weapon%201942%20colorized.mp4", type:"mp4"},
  {name:"Sherlock Holmes and the Voice of Terror (1942)", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Sherlock%20Holmes%20and%20the%20Voice%20of%20Terror%201942%20colorized.mp4", type:"mp4"},
  {name:"The Scarlet Claw (1944) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/The%20Scarlet%20Claw%201944%20colorized.mp4", type:"mp4"},
  {name:"Sherlock Holmes Faces Death (1943)", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Sherlock%20Holmes%20Faces%20Death%201943%20colorized.mp4", type:"mp4"},
  {name:"Terror by Night (1946) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Terror%20by%20Night%201946%20colorized.mp4", type:"mp4"},
  {name:"The Adventures of Sherlock Holmes (1939)", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Adventures%20of%20Sherlock%20Holmes%201939%20colorized.mp4", type:"mp4"},
  {name:"Sherlock Holmes in Washington (1943)", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Sherlock%20Holmes%20in%20Washington%201943%20colorized.mp4", type:"mp4"},
  {name:"The House of Fear (1945) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/The%20House%20of%20Fear%201945%20colorized.mp4", type:"mp4"},
  {name:"The Spider Woman (1943) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/The%20Spider%20Woman%201943%20colorized.mp4", type:"mp4"},
  {name:"The Hound of the Baskervilles (1939)", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Hound%20of%20the%20Baskervilles%201939%20colorized.mp4", type:"mp4"},
  {name:"Pursuit to Algiers (1945) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/Pursuit%20to%20Algiers%201945%20colorized.mp4", type:"mp4"},
  {name:"The Pearl of Death (1944) – Sherlock Holmes", logo:"SH", url:"https://archive.org/download/sherlock-holmes-movies-colorized/The%20Pearl%20of%20Death%201944%20colorized.mp4", type:"mp4"},
  {name:"Fireball XL5 S01E02 – The Doomed Planet", logo:"XL5", url:"https://archive.org/download/fireball-xl5-tv-1962-colorized-s01e02-the-doomed-planet/Fireball%20XL5%20TV%201962%20colorized%20s01e02%20The%20Doomed%20Planet.mp4", type:"mp4"}
];

let currentIndex = 0;
const player = document.getElementById('videoPlayer');
let hls = null, dash = null;

function loadChannel(idx) {
  if (idx < 0 || idx >= playlist.length) return;
  currentIndex = idx;
  const ch = playlist[idx];

  if (hls) { hls.destroy(); hls = null; }
  if (dash) { dash.reset(); dash = null; }

  player.pause();
  player.src = '';

  if (ch.type === 'hls' && Hls.isSupported()) {
    hls = new Hls();
    hls.loadSource(ch.url);
    hls.attachMedia(player);
  } else if (ch.type === 'dash') {
    dash = dashjs.MediaPlayer().create();
    dash.initialize(player, ch.url, true);
  } else {
    player.src = ch.url;
  }
  player.play().catch(() => {});

  document.getElementById('info-overlay').textContent = ch.name;
  document.getElementById('info-overlay').classList.add('show');
  setTimeout(() => document.getElementById('info-overlay').classList.remove('show'), 4000);

  updateActiveItem();
}

function buildPlaylist() {
  const container = document.getElementById('playlist-container');
  container.innerHTML = '';
  playlist.forEach((ch, i) => {
    const div = document.createElement('div');
    div.className = 'playlist-item';
    div.innerHTML = `
      <img src="https://archive.org/services/img/${ch.url.split('/')[4]}" onerror="this.src='https://via.placeholder.com/80x45/222/fff?text=${ch.logo}'">
      <span>${ch.name}</span>
    `;
    div.onclick = () => loadChannel(i);
    container.appendChild(div);
  });
  updateActiveItem();
}

function updateActiveItem() {
  document.querySelectorAll('.playlist-item').forEach((el,i) => {
    el.classList.toggle('active', i === currentIndex);
  });
}

/* Sidebar toggles */
document.getElementById('toggle-playlist').onclick = () => {
  document.getElementById('playlist-sidebar').classList.toggle('open');
  updateDim();
};
document.getElementById('toggle-settings').onclick = () => {
  document.getElementById('settings-sidebar').classList.toggle('open');
  updateDim();
};
document.getElementById('dim-overlay').onclick = () => {
  document.getElementById('playlist-sidebar').classList.remove('open');
  document.getElementById('settings-sidebar').classList.remove('open');
  updateDim();
};

function updateDim() {
  const open = document.getElementById('playlist-sidebar').classList.contains('open') ||
               document.getElementById('settings-sidebar').classList.contains('open');
  document.getElementById('dim-overlay').classList.toggle('active', open);
}

/* Bottom controls */
document.getElementById('prevBtn').onclick = () => loadChannel(currentIndex - 1);
document.getElementById('nextBtn').onclick = () => loadChannel(currentIndex + 1);
document.getElementById('playPauseBtn').onclick = () => player.paused ? player.play() : player.pause();
document.getElementById('muteBtn').onclick = () => { player.muted = !player.muted; };
document.getElementById('fsBtn').onclick = () => player.requestFullscreen();
document.getElementById('volume').oninput = e => player.volume = e.target.value;

player.onplay = () => document.getElementById('playPauseBtn').innerHTML = 'Pause';
player.onpause = () => document.getElementById('playPauseBtn').innerHTML = 'Play';

/* Prevent sidebar scroll from bubbling to page (Weebly fix) */
document.querySelectorAll('.sidebar').forEach(sb => {
  sb.addEventListener('wheel', e => e.stopPropagation(), {passive:true});
  sb.addEventListener('touchmove', e => e.stopPropagation(), {passive:true});
});

/* Init */
buildPlaylist();
loadChannel(0);
</script>
</body>
</html>