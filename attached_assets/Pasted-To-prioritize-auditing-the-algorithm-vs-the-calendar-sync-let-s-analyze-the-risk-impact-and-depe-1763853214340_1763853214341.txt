To prioritize auditing the algorithm vs. the calendar sync, let’s analyze the risk, impact, and dependencies of each component based on your Construction Report Manual and the interactive_hub requirements.

1. Risk and Impact Analysis
A. Calendar Sync (Construction Report Context)
What it does:

Syncs data between the app and the hub calendar (e.g., project timelines, weather, crew lists, report submissions).
Ensures real-time or near-real-time updates for all users.
Handles offline/online states, conflicts, and sync failures.
Why it’s critical:

Data integrity: If sync fails, reports may be lost, duplicated, or stuck in "Pending" (see your Section 7: Known Open Issues).
User trust: Sync issues directly impact usability (e.g., blank screens, stuck reports).
Dependencies: Sync is a prerequisite for almost every other function (e.g., PDF generation, emailing, cloud save).
From your manual:

"Reports stuck in ‘Pending Sync’ after 24h" (High priority, assigned to Dev Team).
"Some users see blank screen after login" (High priority, likely sync-related).
Offline saving and background sync are listed as fully tested, but sync failures are still a major issue.
Audit Focus:

Conflict resolution: What happens if two users edit the same report offline?
Error handling: Are sync failures logged, retried, and surfaced to the user?
Performance: Does sync scale with 1,000+ concurrent users?

B. Scheduling Algorithm (interactive_hub Context)
What it does:

Distributes 1–10,000 video links across a calendar.
Enforces cooldowns (e.g., no replays within 48h).
Balances playlists for viewer engagement.
Why it’s critical:

User experience: Poor distribution = repetitive or boring playlists.
Scalability: Must handle large inputs without crashing.
Logic correctness: Cooldowns and shuffling must work as intended.
From your requirements:

"Spread 1–10,000 links all over the daily/monthly/yearly calendar."
"No replays for 48h minimum."
"Logically random order for viewer attention."
Audit Focus:

Edge cases: Does it handle 10,000 links without memory issues?
Cooldown enforcement: Can users force a replay within 48h?
Distribution logic: Is the "balanced" distribution actually balanced?

2. Priority Recommendation
Audit Calendar Sync FIRST
Reasons:


Blocking Issues:

Your manual lists high-priority sync bugs (e.g., stuck reports, blank screens).
Sync is foundational—if it’s broken, nothing else works reliably.


User Impact:

Sync failures = lost work, frustrated users, support tickets.
Algorithm issues = less engaging playlists, but not a showstopper.


Dependencies:

The scheduling algorithm assumes the calendar is stable.
Fixing sync first ensures a solid base for algorithm testing.


Testing Overlap:

Auditing sync will likely uncover issues in data validation, error handling, and offline logic—all of which are reusable for the algorithm.

